<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" type="text/css" href="rabbitbot.css" />
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script src="./script/tmi.min.js"></script>
    <script src="./src/deathconter/DeathCounter.js"></script>
    <script src="./src/app.js"></script>
    <script src="./src/game/Game.js"></script>
    <script src="./src/game/boss.js"></script>
</head>

<body>

    <div id="menu">

        <div id="keyCol" class="col">

            <div id="title" class="item">
                Game
            </div>

            <div id="deathsT" class="item">
                Total deaths
            </div>

            <div id="deathsB" class="hideDiv">
                Boss
            </div>

        </div>

        <span class="seperator">

        </span>

        <div id="valueCol" class="col">

            <div id="gameVal" class="item">
                Name
            </div>

            <div id="deathsTVal" class="item">
                0
            </div>

            <div id="deathsBVal" class="hideDiv">
                0
            </div>

        </div>

    </div>

    <script>
        const fontList = ["CenturyGothic", "CenturyGothicBold", "ChristmasFlake", "ChristmasStar"];

        botMaintenance.connectBot();
        
        //Change the game values
        function renderGameName(name) {
            document.getElementById("gameVal").innerText = name;
        }

        //Change Deaths values
        function renderTotalDValue(value) {
            document.getElementById("deathsTVal").innerText = value;
        }

        function renderBossDDValue(name, value) {
            let bName = document.getElementById("deathsB");
            let bDeath = document.getElementById("deathsBVal");

            bName.innerText = name;
            bDeath.innerText = value;

            if(bName.classList.contains("hideDiv")){
                bName.classList.remove("hideDiv");
            }
            if(bDeath.classList.contains("hideDiv")){
                bDeath.classList.remove("hideDiv");
            }

            bName.classList.add("showDiv");
            bName.classList.add("showDiv");
        }

        function hideBoss(){
            let bName = document.getElementById("deathsB");
            let bDeath = document.getElementById("deathsBVal");

            if(bName.classList.contains("showDiv")){
                bName.classList.remove("showDiv");
            }
            if(bDeath.classList.contains("showDiv")){
                bDeath.classList.remove("showDiv");
            }

            bName.classList.add("hideDiv");
            bDeath.classList.add("hideDiv");
        }

        function refreshBossRender(name, value){
            hideBoss();
            renderBossDDValue(name, value);
        }

        //Test
        function setFont(font) {
            if (fontList.includes(font)) {
                document.getElementById("gameName").style.fontFamily = font;
            }
        }

    </script>
</body>

</html>